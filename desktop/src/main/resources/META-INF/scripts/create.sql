create table department_employees (department_code varchar(4) not null, employee_id integer not null unique);
create table department_manager (department_code varchar(4) not null, employee_id integer unique, primary key (department_code));
create table departments (code varchar(4) not null, version timestamp(6) not null, name varchar(40) not null unique, primary key (code));
create table employee_titles (employee_id integer not null, from_date date not null, title varchar(255), primary key (employee_id, from_date));
create table employees (hire_date date not null, id integer generated by default as identity, version timestamp(6) not null, first_name varchar(14) not null, last_name varchar(16) not null, primary key (id));
alter table if exists department_employees add constraint FKdi4yhnpwlb593bk96l4w5sbf foreign key (employee_id) references employees;
alter table if exists department_employees add constraint FK1u7o8veamerpyneynhdwbj9hq foreign key (department_code) references departments;
alter table if exists department_manager add constraint FK16e5m2a3dboj1x0dk4hs0xipw foreign key (employee_id) references employees;
alter table if exists department_manager add constraint FKl6p2jh8l58g1bi4apt1h8edip foreign key (department_code) references departments;
alter table if exists employee_titles add constraint FKokryqa4si2x708d66h9ffdt6b foreign key (employee_id) references employees;
